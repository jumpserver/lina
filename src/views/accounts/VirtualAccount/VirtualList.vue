<template>
  <div>
    <ListTable v-bind="config" />
    <VirtualUpdate />
  </div>
</template>

<script>
import { ListTable } from '@/components'
import VirtualUpdate from './VirtualUpdate.vue'

export default {
  name: 'VirtualAccountList',
  components: {
    ListTable,
    VirtualUpdate
  },
  data() {
    return {
      config: {
        tableConfig: {
          url: '/api/v1/accounts/virtual-accounts/',
          columns: ['name', 'username', 'comment'],
          columnsMeta: {
            name: {
              formatterArgs: {
                route: 'VirtualAccountDetail'
              }
            },
            actions: {
              formatterArgs: {
                hasClone: false,
                hasDelete: false,
                updateRoute: 'VirtualAccountUpdate',
                canUpdate: ({ row }) => {
                  return row.alias === '@USER'
                }
              }
            }
          }
        },
        headerActions: {
          hasLeftActions: false,
          hasImport: false,
          hasExport: false
        }
      }
    }
  }
}
</script>

<style scoped>

</style>
